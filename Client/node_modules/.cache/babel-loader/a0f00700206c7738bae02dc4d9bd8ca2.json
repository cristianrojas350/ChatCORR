{"ast":null,"code":"function sendNotification(message, user) {\n  document.onvisibilitychange = () => {\n    if (document.hidden) {\n      const notification = new Notification(\"New message from Open Chat\", {\n        icon: \"https://cdn-icons-png.flaticon.com/512/733/733585.png\",\n        body: `@${user}: ${message}`\n      });\n\n      notification.onclick = () => function () {\n        window.open(\"http://localhost:3000/chat\");\n      };\n    }\n  };\n}\n\nexport default function checkPageStatus(message, user) {\n  if (user === localStorage.getItem(\"userName\")) {\n    if (!(\"Notification\" in window)) {\n      alert(\"This browser does not support system notifications!\");\n    } else if (Notification.permission === \"granted\") {\n      sendNotification(message, user);\n    } else if (Notification.permission !== \"denied\") {\n      Notification.requestPermission(permission => {\n        if (permission === \"granted\") {\n          sendNotification(message, user);\n        }\n      });\n    }\n  }\n}","map":{"version":3,"names":["sendNotification","message","user","document","onvisibilitychange","hidden","notification","Notification","icon","body","onclick","window","open","checkPageStatus","localStorage","getItem","alert","permission","requestPermission"],"sources":["C:/Users/croja/Desktop/Protectos/ChatCORR/Client/src/utils/functions.js"],"sourcesContent":["function sendNotification(message, user) {\r\n    document.onvisibilitychange = ()=> {\r\n      if(document.hidden) {\r\n        const notification = new Notification(\"New message from Open Chat\", {\r\n          icon: \"https://cdn-icons-png.flaticon.com/512/733/733585.png\",\r\n          body: `@${user}: ${message}`\r\n        })\r\n        notification.onclick = ()=> function() {\r\n          window.open(\"http://localhost:3000/chat\")\r\n        }\r\n      }\r\n    }  \r\n  }\r\n\r\nexport default function checkPageStatus(message, user) {\r\n  if(user === localStorage.getItem(\"userName\")) {\r\n    if(!(\"Notification\" in window)) {\r\n      alert(\"This browser does not support system notifications!\")\r\n    } else if(Notification.permission === \"granted\") {\r\n      sendNotification(message, user)\r\n    }else if(Notification.permission !== \"denied\") {\r\n       Notification.requestPermission((permission)=> {\r\n          if (permission === \"granted\") {\r\n            sendNotification(message, user)\r\n          }\r\n       })\r\n    }\r\n  }     \r\n}"],"mappings":"AAAA,SAASA,gBAAT,CAA0BC,OAA1B,EAAmCC,IAAnC,EAAyC;EACrCC,QAAQ,CAACC,kBAAT,GAA8B,MAAK;IACjC,IAAGD,QAAQ,CAACE,MAAZ,EAAoB;MAClB,MAAMC,YAAY,GAAG,IAAIC,YAAJ,CAAiB,4BAAjB,EAA+C;QAClEC,IAAI,EAAE,uDAD4D;QAElEC,IAAI,EAAG,IAAGP,IAAK,KAAID,OAAQ;MAFuC,CAA/C,CAArB;;MAIAK,YAAY,CAACI,OAAb,GAAuB,MAAK,YAAW;QACrCC,MAAM,CAACC,IAAP,CAAY,4BAAZ;MACD,CAFD;IAGD;EACF,CAVD;AAWD;;AAEH,eAAe,SAASC,eAAT,CAAyBZ,OAAzB,EAAkCC,IAAlC,EAAwC;EACrD,IAAGA,IAAI,KAAKY,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAZ,EAA8C;IAC5C,IAAG,EAAE,kBAAkBJ,MAApB,CAAH,EAAgC;MAC9BK,KAAK,CAAC,qDAAD,CAAL;IACD,CAFD,MAEO,IAAGT,YAAY,CAACU,UAAb,KAA4B,SAA/B,EAA0C;MAC/CjB,gBAAgB,CAACC,OAAD,EAAUC,IAAV,CAAhB;IACD,CAFM,MAED,IAAGK,YAAY,CAACU,UAAb,KAA4B,QAA/B,EAAyC;MAC5CV,YAAY,CAACW,iBAAb,CAAgCD,UAAD,IAAe;QAC3C,IAAIA,UAAU,KAAK,SAAnB,EAA8B;UAC5BjB,gBAAgB,CAACC,OAAD,EAAUC,IAAV,CAAhB;QACD;MACH,CAJD;IAKF;EACF;AACF"},"metadata":{},"sourceType":"module"}